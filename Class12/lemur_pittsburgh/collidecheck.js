inlets = 3;outlets = 2;var theboids = new JitterMatrix(3, "float32", 10);var thebaths = new JitterMatrix(3, "float32", 10);var thecolors = new JitterMatrix(4, "float32", 10);theboids.adapt = 1;thebaths.adapt = 1;thecolors.adapt = 1;var i, j;var dist_x, dist_y, dist;var boid = new Array(2);var bath = new Array(2);var hits = new Array(100);for(i=0;i<100;i++){	hits[i] = new Array(100);	for(j=0;j<100;j++) {		hits[i][j] = 0;	}}function jit_matrix(v){	if(inlet == 0)	{		theboids.frommatrix(v);		bang();	}	if(inlet == 1)	{		thebaths.frommatrix(v);	}	if(inlet == 2)	{		thecolors.frommatrix(v);	}}function bang(){	for(i=0;i<theboids.dim;i++) // iterate boids	{		boid = theboids.getcell(i);		for(j=0;j<thebaths.dim;j++) // iterate baths		{			bath = thebaths.getcell(j);			dist_x = boid[0]-bath[0];			dist_y = boid[1]-bath[1];			dist=Math.sqrt(dist_x*dist_x + dist_y*dist_y);			if(dist<0.3)			{				if(hits[i][j]==0) // new hit				{					outlet(1, "setcell", j, "val", thecolors.getcell(i));					outlet(0, i, j);					hits[i][j] = 1;				}			}			if(dist>0.5)			{				hits[i][j] = 0;				// outlet(1, "setcell", j, "val", 1., 1., 1., 1.);			}		}	}outlet(1, "bang");}